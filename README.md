# TrickyStore Helper (by shoey63)

A helper module for **TrickyStore** that automatically maintains and updates the `target.txt` file on device boot.

Originally based on the work by CaptainThrowback ‚Äî this fork adds extended automation, live update capability via **action button**, and better configuration flexibility.

---

## üìÇ Folder Structure

All files for TrickyStore Helper are stored in:

```
/data/adb/tricky_store/helper
```

Inside that folder, you‚Äôll find:

### üß© `config.txt`

Controls how the module behaves on each boot.  
If not present, it‚Äôs automatically created with default values.

**Default contents:**
```
FORCE_LEAF_HACK=false
FORCE_CERT_GEN=false
USE_DEFAULT_EXCLUSIONS=true
```

#### Options

| Option | Description |
|---------|-------------|
| `FORCE_LEAF_HACK` | Adds `?` to either all packages or those listed in `force.txt`. |
| `FORCE_CERT_GEN`  | Adds `!` to either all packages or those listed in `force.txt`. |
| `USE_DEFAULT_EXCLUSIONS` | Keeps the built-in exclusion list used by TrickyStore. Disable if you prefer to manage manually. |
| `CUSTOM_LOGLEVEL` *(optional)* | Enables debug logging with the `TSHelper` tag in logcat. |

---

### üìÑ `exclude.txt`

List of packages to **exclude** from `target.txt`.  
Useful if an app misbehaves under spoofing.  
Leave empty if none.

---

### ‚öôÔ∏è `force.txt`

List of packages that should **always** apply the configured force mode  
(`FORCE_LEAF_HACK` or `FORCE_CERT_GEN`).  
If you want the mode to apply globally, keep this file empty.

---

### üß± `system.txt`

Defines **system packages** (like Play Store and GMS) that will *always* be included in `target.txt`  
and treated as system apps in summaries.

**Default contents:**
```
com.android.vending
com.google.android.gms
```

---

### ü™µ `TSHelper.log`

All logs for the helper script ‚Äî useful for debugging or verifying operations.

---

## üöÄ Action Button

This module includes an **action button** (`action.sh`) in Magisk or KernelSU:

- Updates `target.txt` manually without rebooting  
- Restarts Play Store & GMS automatically  
- Prints a summary:
  - Total apps included
  - Number of user & system apps
  - Forced entry count
  - Active force mode

Example output:

```
* TrickyStore Helper *
-----------------------
Starting update...
‚Ä¢ Running helper.sh...
‚Ä¢ Restarting Play Store & GMS...

‚úÖ Update complete!
üìä Summary:
--------------------------------
Updated: 2025-10-24 10:41:17
- Force mode:      FORCE_LEAF_HACK
- User apps:       64
- System apps:     2
- Forced entries:  5
- Total entries:   66
--------------------------------
You can now open TrickyStore to confirm the new target list.
```

---

## üß© Credits

- **CaptainThrowback** ‚Äì Original TrickyStore Helper concept  
- **osm0sis** ‚Äì Base template for the action button  
- **shoey63** ‚Äì Fork, automation, and enhancements

---

## ‚ö†Ô∏è Notes

- TrickyStore must be installed first (`/data/adb/tricky_store` must exist).  
- The helper will automatically set up its config and data on first boot.  
- `action.sh` can be triggered anytime from Magisk or KernelSU to refresh `target.txt` live.

---

*TrickyStore Helper ‚Äì simple, reliable, and fully automated.*
